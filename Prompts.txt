Prompt 1:
Build the backend structure. I want a Python project using OOP. Create three classes: Item as parent, and Book and DVD as child classes. Item must include id, title, is_checked_out, due_date, plus methods check_out(), return_item(), to_dict(), and from_dict(). Book adds author and pages. DVD adds duration and rating. Use a class variable so id auto-increments. The program must load and save items to a JSON file. If the JSON file is missing, create a new one. If the JSON has invalid syntax, show a popup and ask the user if they want to reset it. The entire project must output only 2 files: one Python file and one JSON file. Extend the program with a Tkinter GUI. Add a TreeView table showing id, title, type, status, and due date. Add buttons for Add Book, Add DVD, Edit, Delete, Check Out, Return, and Save. Add a search bar, sorting by clicking headers, row selection, double-click popup for item details, and instant table refreshing after changes. The final output must still be just 2 files: one Python file and one JSON data file.

Prompt 2:
Add strict validation for both GUI input and JSON file content. For Book: title must be string, author string, pages positive integer. For DVD: title string, duration positive integer, rating must be integer 1–5. Show error popups if user enters invalid data. Validate JSON rows as well: id int, title string, is_checked_out boolean, due_date valid date or null, type must be Book or DVD, and each subclass must contain the required fields with correct types. If any row fails validation, show popup and ask if the user wants to reset the JSON file. Also support backward compatibility for “duration_minutes”. Keep the project limited to only 2 files.

Prompt 3:
Convert the entire GUI to a full dark theme. Black window background, black frames, white text, dark buttons, dark entries, and a TreeView with dark background (#111), white text, dark headers (#222), and selected rows (#444). Ensure all widgets follow the dark style consistently. Combine all previous requirements into one final Python file plus one JSON file only.

Prompt 4:
I want you to update my project so that the checkout system works exactly like in python-project.py. Do not create new files and only modify the existing code.
The current check_out method in the Item class accepts a due date string and forces the user to type a full date in YYYY-MM-DD format. I want it changed so that the method accepts a number of days (integer) and automatically calculates the due date using today + days, formatted as YYYY-MM-DD. It should also raise an error if the item is already checked out.
Update the GUI checkout popup. It should no longer ask for a date string. Instead, it must ask: Enter number of days:, using askinteger, and pass that integer to item.check_out(days). Remove any code that uses ensure_due_date_string for checkout.
After these changes, clicking the Check Out button must open a popup asking for number of days, and the due date must be generated automatically just like python-project.py does. Keep everything else exactly the same.
